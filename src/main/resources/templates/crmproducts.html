<html xmlns:th="http://thymeleaf.org">
<head>
    <meta charset="UTF-8" />
    <title>Display Products Details</title>
</head>
<body>
<table border="1">
    <form th:action="@{crmproducts}" th:object="${product}" method="post">
        <input type="hidden" name="errorGroupId" th:value="${errorGroupId}" />
        <label>NAME</label>
        <br>
        <input type="text" id="name" name="name" th:field="${product.name}" class="form-control"/>
        <label th:if="${#fields.hasErrors('name')}" th:class="'error'" th:errors="*{name}">Error name</label>
        <br>
        <br>
        <label>CREATED_AT</label>
        <br>
        <input type="date" id="createdAt" name="createdAt" th:field="${product.createdAt}" class="form-control"/>
        <label th:if="${#fields.hasErrors('createdAt')}" th:class="'error'" th:errors="*{createdAt}">Error createdAt</label>
        <br>
        <br>
        <label>ARTICLE</label>
        <br>
        <input type="text" id="article" name="article" th:field="${product.article}" class="form-control"/>
        <label th:if="${#fields.hasErrors('article')}" th:class="'error'" th:errors="*{article}">Error article</label>
        <br>
        <br>
        <label>GROUP_ID</label>
        <br>
        <input type="text" id="groupId" name="groupId" th:field="${product.groupId}" class="form-control"/>
        <label th:if="${#fields.hasErrors('groupId')}" th:class="'error'" th:errors="*{groupId}">Error groupId</label>
        <br>
        <br>
        <input type="submit" value="Create" class="btn btn-danger"/>
    </form>
    <br>
    <br>
    <tr>
        <th>ID</th>
        <th>NAME</th>
        <th>CREATED_AT</th>
        <th>ARTICLE</th>
        <th>GROUP_ID</th>
    </tr>
    <tr th:each="product : ${productsList}">
        <td th:text="${product.id}">ID</td>
        <td th:text="${product.name}">NAME</td>
        <td th:text="${product.createdAt}">CREATED_AT</td>
        <td th:text="${product.article}">ARTICLE</td>
        <td th:text="${product.groupId.id}">GROUP_ID</td>
        <td>
            <form th:action="@{delete_product}" method="get">
                <input type="hidden" name="productId" th:value="${product.id}" />
                <input type="submit" value="Delete" class="btn btn-danger" />
            </form>
        </td>
        <td>
            <form th:action="@{edit_product}" method="get">
                <input type="hidden" name="productId" th:value="${product.id}" />
                <input type="submit" value="Edit" class="btn btn-danger" />
            </form>
        </td>

    </tr>
</table>
</body>
</html>